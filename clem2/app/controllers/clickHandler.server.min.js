"use strict";function clickHandler(a){var b=a.collection("clicks");this.getClicks=function(e,d){var c={_id:false};b.findOne({},c,function(g,f){if(g){throw g}if(f){d.json(f)}else{b.insert({clicks:0},function(h){if(h){throw h}b.findOne({},c,function(i,j){if(i){throw i}d.json(j)})})}})};this.addClick=function(d,c){b.findAndModify({},{_id:1},{$inc:{clicks:1}},function(f,e){if(f){throw f}c.json(e)})};this.resetClicks=function(d,c){b.update({},{clicks:0},function(f,e){if(f){throw f}c.json(e)})}}module.exports=clickHandler;
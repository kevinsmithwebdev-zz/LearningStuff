function clickHandler(f){var d=f.collection("clicks");this.getClicks=function(e,c){var b={_id:!1};d.findOne({},b,function(a,e){if(a)throw a;e?c.json(e):d.insert({clicks:0},function(a){if(a)throw a;d.findOne({},b,function(a,b){if(a)throw a;c.json(b)})})})};this.addClick=function(e,c){d.findAndModify({},{_id:1},{$inc:{clicks:1}},function(b,a){if(b)throw b;c.json(a)})};this.resetClicks=function(e,c){d.update({},{clicks:0},function(b,a){if(b)throw b;c.json(a)})}}module.exports=clickHandler;

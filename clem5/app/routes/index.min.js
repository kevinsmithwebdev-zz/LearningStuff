var path=process.cwd(),ClickHandler=require(path+"/app/controllers/clickHandler.server.js");
module.exports=function(a,e){function c(a,b,c){if(a.isAuthenticated())return c();b.redirect("/login")}var d=new ClickHandler;a.route("/").get(c,function(a,b){b.sendFile(path+"/public/index.html")});a.route("/login").get(function(a,b){b.sendFile(path+"/public/login.html")});a.route("/logout").get(function(a,b){a.logout();b.redirect("/login")});a.route("/profile").get(c,function(a,b){b.sendFile(path+"/public/profile.html")});a.route("/api/:id").get(c,function(a,b){b.json(a.user.github)});a.route("/auth/github").get(e.authenticate("github"));
a.route("/auth/github/callback").get(e.authenticate("github",{successRedirect:"/",failureRedirect:"/login"}));a.route("/api/:id/clicks").get(c,d.getClicks).post(c,d.addClick)["delete"](c,d.resetClicks)};
